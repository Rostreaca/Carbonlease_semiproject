<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.notice.model.dao.NoticeMapper">

	<select id="findAll"
			resultType="NoticeDTO">
		SELECT
				  NOTICE_NO noticeNo
				, NOTICE_TITLE noticeTitle
				, ENROLL_DATE createDate
				, VIEW_COUNT viewCount
		FROM
				CL_NOTICE
		WHERE		
				STATUS='Y'
		ORDER
		BY
				NOTICE_NO DESC
	</select>
	
	<select id="findAndCountAll"
			resultType="_int">
		SELECT
				COUNT(*)
		FROM
				CL_NOTICE
		WHERE
				STATUS='Y'
	</select>
	
	<select id="findByNo"
			parameterType="long"
			resultType="NoticeDTO">
		SELECT
				  NOTICE_TITLE noticeTitle
				, NOTICE_CONTENT noticeContent
				, VIEW_COUNT viewCount
				, ENROLL_DATE createDate
		FROM
				CL_NOTICE
		WHERE
				STATUS='Y'
		AND
				NOTICE_NO = #{noticeNo}
	</select>
	
</mapper>